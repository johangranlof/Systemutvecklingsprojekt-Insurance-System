<Window
    x:Class="Presentation.Views.LoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Presentation.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:vm="clr-namespace:Presentation.ViewModels"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="ISS Insurance Support System"
    MinWidth="1400"
    MinHeight="800"
    Background="#C8D9E6"
    Style="{StaticResource MaterialDesignWindow}"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized"
    mc:Ignorable="d">
    <Window.DataContext>
        <vm:LoginVM />
    </Window.DataContext>
    <Grid
        Margin="0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition
                Width="40*" />
            <ColumnDefinition
                Width="60*" />
        </Grid.ColumnDefinitions>
        <Border
            Grid.Column="0"
            Background="#C8D9E6">
            <Image
                Width="400"
                Margin="30"
                Source="pack://application:,,,/Images/LoginBild1.png" />
        </Border>
        <Border
            Grid.Column="1"
            Background="White"
            CornerRadius="70,0,0,70">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition
                        Height="50" />
                    <RowDefinition
                        Height="*" />
                    <RowDefinition
                        Height="50" />
                </Grid.RowDefinitions>
                <Image
                    Grid.Row="0"
                    Width="100"
                    Margin="200,0,0,0"
                    HorizontalAlignment="Right"
                    Source="pack://application:,,,/Images/ISS.png" />
                <Grid
                    Grid.Row="1"
                    Width="400"
                    Margin="20"
                    VerticalAlignment="Center">
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock
                        Grid.Row="0"
                        FontSize="20"
                        Text="Logga in" />
                    <TextBlock
                        Grid.Row="1"
                        Margin="0,50,0,5"
                        Text="Användarnamn" />
                    <TextBox
                        Grid.Row="2"
                        Margin="5,0,0,20"
                        Text="{Binding Username, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                        materialDesign:HintAssist.Hint="Användarnamn"
                        materialDesign:TextFieldAssist.HasLeadingIcon="True"
                        materialDesign:TextFieldAssist.LeadingIcon="Account"
                        Background="Transparent" />
                    <TextBlock
                        Grid.Row="3"
                        Margin="5"
                        Text="Lösenord" />
                    <PasswordBox
                        Grid.Row="4"
                        Margin="5,0,0,20"
                        Name="PasswordBox"
                        materialDesign:HintAssist.Hint="Lösenord"
                        materialDesign:PasswordBoxAssist.Password="{Binding Password, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                        materialDesign:TextFieldAssist.HasLeadingIcon="True"
                        materialDesign:TextFieldAssist.LeadingIcon="Key"
                        Background="Transparent"
                        Style="{StaticResource MaterialDesignRevealPasswordBox}" />
                    <Button
                        Grid.Row="5"
                        Width="auto"
                        Command="{Binding LogInCommand}"
                        IsDefault="True"
                        IsEnabled="{Binding DataContext.ControlsEnabled, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                        Style="{StaticResource MaterialDesignRaisedDarkButton}"
                        ToolTip="Logga in">
                        <StackPanel
                            Orientation="Horizontal">
                            <materialDesign:PackIcon
                                VerticalAlignment="Center"
                                Kind="Login" />
                            <TextBlock
                                Margin="10,0,0,0"
                                Text="Logga in" />
                        </StackPanel>
                    </Button>
                    <ProgressBar
                        Grid.Row="6"
                        Height="10"
                        Margin="0,50,0,0"
                        IsIndeterminate="True"
                        Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}" />
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>
